cd..
cd..
REM REBUILD sort\SORT
CALL bat\ASML sort\SORT %1 %2 %3 %4 %5
REM TESTSORT = SORT ASCII 21 RECORD SIMPLE SORT
SET SORTIN=sort\TESTSORT.IN[RECFM=FT,LRECL=80]
SET SORTOUT=sort\TESTSORT.OUT[RECMF=FT]
SET SYSIN=sort\TESTSORT.INI
erase sort\TESTSORT.OUT
CALL bat\EXEC sort\SORT STATS %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN SORT1 FOR TESTSORT.OUT 
copy sort\SORT.STA sort\SORT1.STA
REM TESTSRT1/2 TEST ALL KEY TYPES WITH 21 20 byte records
SET SYSUT2=sort\TESTSRT1.IN
CALL bat\ASMLG sort\TESTSRT1 %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN TESTSRT1 21 RECORD GEN
SET SORTIN=sort\TESTSRT1.IN[RECFM=F,LRECL=20]
SET SORTOUT=sort\TESTSRT1.OUT
SET SYSIN=sort\TESTSRT1.INI
erase sort\TESTSRT1.OUT
CALL bat\EXEC sort\SORT STATS %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN SORT2 FOR TESTSRT1.OUT 
copy sort\SORT.STA sort\SORT2.STA
SET SYSUT1=sort\TESTSRT1.OUT
CALL bat\ASMLG sort\TESTSRT2 %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN TESTSRT2 VERIFY TESTSRT1.OUT
REM TESTSRT3/4 TEST SORTING 100000 USING 1000 REC TABLE
SET SYSUT2=sort\TESTSRT3.IN
CALL bat\ASMLG sort\TESTSRT3 PARM(100000) %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN TESTSRT3 100000 RECORD GEN
SET SORTIN=sort\TESTSRT3.IN[RECFM=F,LRECL=4]
SET SORTOUT=sort\TESTSRT3.OUT
SET SYSIN=sort\TESTSRT3.INI
erase sort\TESTSRT3.OUT
CALL bat\EXEC sort\SORT STATS PARM(1000) %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN SORT FOR TESTSRT3.OUT
copy sort\SORT.STA sort\SORT3.STA
SET SYSUT1=sort\TESTSRT3.OUT
CALL bat\ASMLG sort\TESTSRT4 PARM(100000) %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN TESTSRT4 VERIFY TESTSRT3.OUT
PAUSE VERIFY ALL SORT TESTS OK


