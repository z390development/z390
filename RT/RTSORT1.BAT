REM TEST SORT %1 %2 %3 %4 %5
erase rt\sort\dif\*.* /q
call rt\RTCLEAN1 sort *
erase rt\sort\dif\*.* /q
REM REBUILD LINKLIB\SORT
CALL ASML linklib\SORT %1 %2 %3 %4 %5
REM TESTSORT = SORT ASCII 21 RECORD SIMPLE SORT
SET SORTIN=sort\TESTSORT.IN[RECFM=FT,LRECL=80]
SET SORTOUT=sort\TESTSORT.OUT[RECMF=FT]
SET SYSIN=sort\TESTSORT.INI
erase sort\TESTSORT.OUT
CALL EXEC SORT STATS %1 %2 %3 %4 %5
copy SORT.STA sort\SORT1.STA
IF ERRORLEVEL 1 PAUSE ERROR IN SORT 
REM TESTSRT1/2 TEST ALL KEY TYPES WITH 21 20 byte records
SET SYSUT2=sort\TESTSRT1.IN
CALL ASMLG sort\TESTSRT1 %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN TESTSRT1
SET SORTIN=sort\TESTSRT1.IN[RECFM=F,LRECL=20]
SET SORTOUT=sort\TESTSRT1.OUT
SET SYSIN=sort\TESTSRT1.INI
erase sort\TESTSRT1.OUT
CALL EXEC SORT STATS %1 %2 %3 %4 %5
copy SORT.STA sort\SORT2.STA
IF ERRORLEVEL 1 PAUSE ERROR IN SORT 
SET SYSUT1=sort\TESTSRT1.OUT
CALL ASMLG sort\TESTSRT2 %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN TESTSRT2
REM TESTSRT3/4 TEST SORTING 100000 USING 1000 REC TABLE
SET SYSUT2=sort\TESTSRT3.IN
CALL ASMLG sort\TESTSRT3 PARM(100000) %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE ERROR IN TESTSRT1
SET SORTIN=sort\TESTSRT3.IN[RECFM=F,LRECL=4]
SET SORTOUT=sort\TESTSRT3.OUT
SET SYSIN=sort\TESTSRT3.INI
erase sort\TESTSRT3.OUT
CALL EXEC SORT STATS PARM(1000) %1 %2 %3 %4 %5
copy SORT.STA sort\SORT3.STA
IF ERRORLEVEL 1 PAUSE ERROR IN SORT
SET SYSUT1=sort\TESTSRT3.OUT
CALL ASMLG sort\TESTSRT4 PARM(100000) %1 %2 %3 %4 %5
call rt\RTCOMP sort rt\sort\save rt\sort\dif


