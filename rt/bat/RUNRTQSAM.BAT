@echo off
setlocal
pushd %~dp0
CD..
CD..
REM RUN RT QSAM FOR V,VB,VT,VL
REM BLD? CREATES TEST FILE, CHK? VERIFIES TEST FILE
REM SEE TRE TRACE FILES FOR SNAP DUMPS OF RECORDS
ERASE QSAM\BLD*.ERR
ERASE QSAM\TEST*.TFV
SET SNAPOUT=DUMMY
SET SYSUT2=QSAM\TESTV.TFV
CALL BAT\ASMLG QSAM\BLDV.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTV.TFV
CALL BAT\ASMLG QSAM\CHKV.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTVB.TFV
CALL BAT\ASMLG QSAM\BLDVB.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTVB.TFV
CALL BAT\ASMLG QSAM\CHKVB.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTVT.TFV
CALL BAT\ASMLG QSAM\BLDVT.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTVT.TFV
CALL BAT\ASMLG QSAM\CHKVT.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTVL.TFV
CALL BAT\ASMLG QSAM\BLDVL.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTVL.TFV
CALL BAT\ASMLG QSAM\CHKVL.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTVBL.TFV
CALL BAT\ASMLG QSAM\BLDVBL.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTVBL.TFV
CALL BAT\ASMLG QSAM\CHKVBL.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTVTL.TFV
CALL BAT\ASMLG QSAM\BLDVTL.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTVTL.TFV
CALL BAT\ASMLG QSAM\CHKVTL.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTF.TFV
CALL BAT\ASMLG QSAM\BLDF.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTF.TFV
CALL BAT\ASMLG QSAM\CHKF.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTFL.TFV
CALL BAT\ASMLG QSAM\BLDFL.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTFL.TFV
CALL BAT\ASMLG QSAM\CHKFL.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTFT.TFV
CALL BAT\ASMLG QSAM\BLDFT.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTFT.TFV
CALL BAT\ASMLG QSAM\CHKFT.MLC TRACE || goto error
SET SYSUT2=QSAM\TESTFTL.TFV
CALL BAT\ASMLG QSAM\BLDFTL.MLC TRACE || goto error
SET SYSUT1=QSAM\TESTFTL.TFV
CALL BAT\ASMLG QSAM\CHKFTL.MLC TRACE TIME(30) || goto error
DIR QSAM\TEST*.TFV

goto:eof

:error
echo RUNRTQSA.ERROR: Encountered RC %ERRORLEVEL% - exiting
exit /b %ERRORLEVEL%
