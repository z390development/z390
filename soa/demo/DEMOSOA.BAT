REM GENERATE, BUILD, AND RUN DEMO SOA CLIENT SERVIER APPLICATTON              
REM EXEC SOAGEN MACRO DEFINITION IN DEMOSOA.MLC TO GEN THE FOLLOWING FILES:
REM   DEMOCMGR.MLC - DEMO CLIENT MESSAGE MANAGER SOACMGR MACRO CALL
REM   DEMOSMGR.MLC - DMEO SERVER MESSAGE MANAGER SOASMGR MACRO CALL
REM   STUB_DEMOSUB1.MLC - SOA STUB CALL FOR DEMOSUB1 SERVICE
REM   STUB_DEMOSUB2.MLC - SOA STUB CALL FOR DEMOSUB2 SERVICE
REM   DEMOBLD.BAT       - BUILD THE FOLLOWING EXECUTABLES
REM   DEMORUN.BAT       - START DEMO SERVER AND CLIENT ON SEPARATE THREADS
REM   DEMORUNS.BAT      - EXEC DEMOSMGR SERVER (RUNS UNTIL DEMOSTOP IS RUN) 
REM   DEMORUNC.BAT      - EXEC DEMOMAIN CLIENT (CAN RUN MULT TIMES)
CALL MAC soa\demo\DEMOSOA SYSMAC(soa\maclib) "SYSPARM('%1 %2 %3 %4 %5')"
IF ERRORLEVEL 1 PAUSE DEMOSOA ERROR
REM RUN GNERATED DEMOBLD.BAT FILE TO BUILD SOA DEMO APPLICATION PGMS
REM   DEMOCMGR.390  - CLIENT MSG MGR CALLED FROM STUBS
REM   DEMOSMGR.390  - SERVER MSG MGR STARTED AS SEPARATE PROCESS
REM   DEMOSUB1.390  - LOADED BY DEMOSMGR ON FIRST REQUEST MSG
REM   DEMOSUB2.390  - LOADED BY DEMOSMGR ON FIRST REQUEST MSG
REM   DEMOMAIN.390  - LINKED WITH STUBS TO CALL DEMOCMGR.390
CALL soa\demo\DEMOBLD %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE DEMOBLD ERROR
REM RUN GENERATED DEMORUN.BAT TO START SERVER AND RUN CLIENT APPLICATION
CALL soa\demo\DEMORUN %1 %2 %3 %4 %5
IF EXIST /usr/local/lib/z390/z390.jar GOTO end
:windows
REM ASSEMBLE, LINK, AND EXECUTE DEMOSTOP UTILITY TO STOP SERVER
CALL soa\demo\DEMOSTOP %1 %2 %3 %4 %5
:end
