REM GENERATE COBOL CLIENT VERSION OF DEMOMAIN SOA APPLICATION                 
REM EXEC SOAGEN MACRO DEFINITION IN DEMOSOA.MLC TO GEN THE FOLLOWING FILES:
REM   DEMOMAIN.CBL - COBOL VERSION OF DEMOMAIN.MLC DEMO 
REM   DEMOCMGR.CBL - GENERATED COBOL DEMO CLIENT MESSAGE MANAGER 
REM   DEMOSMGR.MLC - GENEREATED MLC  DEMO SERVER MESSAGE MANAGER 
REM   STUB_DEMOSUB1.CBL - GENERATED SOA STUB CALL FOR DEMOSUB1 SERVICE
REM   STUB_DEMOSUB2.CBL - GENERATED SOA STUB CALL FOR DEMOSUB2 SERVICE
REM   DEMOBLD.BAT       - BUILD THE MLC VERSION 
REM   DEMOBLDC.BAT      - BUILD THE CBL VERSION 
REM   DEMORUN.BAT       - RUN THE MLC DEMO SERVER AND CLIENT ON SEPARATE THREADS
REM   DEMORUNS.BAT      - RUN THE MLC DEMOSMGR SERVER FOR CBL OR MLC CLIENT 
REM   DEMORUNC.BAT      - RUN THE MLC CLIENT (CAN RUN MULT TIMES)
REM    USE MFE TO RUN CBL VERSION OF CLIENT (CAN RUN MULT TIMES)
CALL MAC soa\demo\DEMOSOAC SYSMAC(soa\maclib) "SYSPARM('%1 %2 %3 %4 %5')"
IF ERRORLEVEL 1 PAUSE DEMOSOA ERROR
REM RUN GNERATED DEMOBLD.BAT FILE TO BUILD SOA DEMO APPLICATION PGMS
REM   DEMOCMGR.CBL  - CLIENT MSG MGR CALLED FROM STUBS
REM   DEMOSUB1.CBL  - CLIENT STUB CALLS DEMOCMGR       
REM   DEMOSUB2.CBL  - CLIENT STUB CALLS DEMOCMGR       
REM   DEMOSMGR.390  - SERVER MSG MGR STARTED AS SEPARATE PROCESS
REM   DEMOSUB1.390  - LOADED BY DEMOSMGR ON FIRST REQUEST MSG
REM   DEMOSUB2.390  - LOADED BY DEMOSMGR ON FIRST REQUEST MSG
REM   DEMOMAIN.CBL  - DYNAMICALLY CALLS CBL STUBS WHICH CALL DEMOCMGR.CBL
CALL soa\demo\DEMOBLDC %1 %2 %3 %4 %5
IF ERRORLEVEL 1 PAUSE DEMOBLDC ERROR
REM RUN SOA\DEMO\DEMORUNS.BAT TO START SERVER, THEN RUN DEMOMAIN.CBL
:end
