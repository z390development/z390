@echo off
setlocal
pushd %~dp0
cd ..
REM REBUILD ZCOBOL\Z390\ZC390LIB.390
CALL BAT\ASM  ZCOBOL\LIB\ABORT    SYSMAC(MAC) SYSCPY(MAC+ZCOBOL\LIB) %1 %2 %3 %4 %5 %6 %7 %8 %9 || goto:error
CALL BAT\ASM  ZCOBOL\LIB\ACCEPT   SYSMAC(MAC) SYSCPY(MAC+ZCOBOL\LIB) %1 %2 %3 %4 %5 %6 %7 %8 %9 || goto:error
CALL BAT\ASM  ZCOBOL\LIB\CVTTOHEX SYSMAC(MAC) SYSCPY(MAC+ZCOBOL\LIB) %1 %2 %3 %4 %5 %6 %7 %8 %9 || goto:error
CALL BAT\ASM  ZCOBOL\LIB\DISPLAY  SYSMAC(MAC) SYSCPY(MAC+ZCOBOL\LIB) %1 %2 %3 %4 %5 %6 %7 %8 %9 || goto:error
CALL BAT\ASM  ZCOBOL\LIB\INSPECT  SYSMAC(MAC) SYSCPY(MAC+ZCOBOL\LIB) %1 %2 %3 %4 %5 %6 %7 %8 %9 || goto:error
CALL BAT\ASM  ZCOBOL\LIB\ZC390NUC SYSMAC(MAC) SYSCPY(MAC+ZCOBOL\LIB) %1 %2 %3 %4 %5 %6 %7 %8 %9 || goto:error
CALL BAT\ASML ZCOBOL\LIB\ZC390LIB SYSMAC(MAC) SYSCPY(MAC+ZCOBOL\LIB) SYS390(ZCOBOL\LIB) RMODE24 %1 %2 %3 %4 %5 %6 %7 %8 %9 || goto:error
@REM PAUSE VERIFY ZC390LIB.390 BUILD OK

goto:eof

:error
echo BLDCBLLI.ERROR: Encountered RC %ERRORLEVEL% - exiting
exit /b %ERRORLEVEL%
